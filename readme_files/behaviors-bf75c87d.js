System.register(["./chunk-vendor.js","./chunk-frameworks.js","./chunk-notification-list-focus.js","./chunk-cookies.js","./chunk-edit.js","./chunk-responsive-underlinenav.js","./chunk-tag-input.js"],function(Iv,L){"use strict";var y,oe,I,p,f,se,Gr,Qi,Jr,A,v,Yi,Ue,Pe,Qr,Zi,ea,ta,na,ra,oa,sa,ia,aa,kn,ca,Yr,la,Zr,ua,Tn,da,fa,ma,pa,ha,Mt,$t,ga,ba,ya,va,wa,eo,ja,to,qt,Ea,Sa,La,_a,ka,Ta,Ca,C,xa,Aa,N,Cn,Pa,Me,$e,It,Ot,We,ze,no,fe,Ve,Ft,Ke,E,W,Rt,xn,Ma,me,Ht,ro,oo,so,$a,qa,Dt,ye,An,Nt,Pn,Bt,io,z,pe,ie,ve,Xe,Ge,Mn,Ia,Ut,Oa,Fa,Ra,Ha,Da,Na,ao,co,Ba,Ua,Wt,Wa,za,$n,Va,lo,Ka,Xa,uo,fo,Ga,Ja,Qa,Ya,qn,Za,ec,In,tc,mo,nc,po,rc,oc,sc,ho,ic,ac,cc,zt,lc,go,uc,dc,fc,bo,yo,mc;return{setters:[function(u){y=u.t,oe=u.b,I=u.c,p=u.o,f=u.a,se=u.j,Gr=u.I,Qi=u.R,Jr=u.C,A=u.r,v=u.f,Yi=u.A,Ue=u.k,Pe=u.e,Qr=u.l,Zi=u.s,ea=u.m,ta=u.n,na=u.q,ra=u.v,oa=u.w,sa=u.x,ia=u.y,aa=u.z,kn=u.B,ca=u.E,Yr=u.F,la=u.G,Zr=u.H,ua=u.J,Tn=u.h,da=u.K,fa=u.Q,ma=u.M,pa=u.L,ha=u.N,Mt=u.O,$t=u.P,ga=u.U,ba=u.V,ya=u.W,va=u.X,wa=u.Y,eo=u.Z,ja=u._,to=u.$,qt=u.a0,Ea=u.a1,Sa=u.a2,La=u.a3,_a=u.a4,ka=u.a5,Ta=u.a6,Ca=u.a7,C=u.a8},function(u){xa=u.p,Aa=u.k,N=u.e,Cn=u.l,Pa=u.n,Me=u.j,$e=u.q,It=u.v,Ot=u.t,We=u.w,ze=u.x,no=u.i,fe=u.y,Ve=u.z,Ft=u.o,Ke=u.A,E=u.c,W=u.r,Rt=u.B,xn=u.C,Ma=u.D,me=u.E,Ht=u.F,ro=u.G,oo=u.H,so=u.I,$a=u.J,qa=u.K,Dt=u.L,ye=u.a,An=u.M,Nt=u.N,Pn=u.O,Bt=u.P,io=u.Q,z=u.R,pe=u.m,ie=u.S,ve=u.g,Xe=u.T,Ge=u.U,Mn=u.V,Ia=u.W,Ut=u.X,Oa=u.Y,Fa=u.Z,Ra=u._,Ha=u.$,Da=u.a0,Na=u.a1,ao=u.a2,co=u.a3,Ba=u.a4,Ua=u.a5,Wt=u.a6,Wa=u.a7,za=u.a8,$n=u.a9,Va=u.aa,lo=u.ab,Ka=u.ac,Xa=u.ad,uo=u.ae,fo=u.af,Ga=u.ag,Ja=u.ah,Qa=u.ai,Ya=u.aj,qn=u.u,Za=u.ak,ec=u.s,In=u.al,tc=u.am,mo=u.an,nc=u.ao,po=u.ap,rc=u.aq,oc=u.ar,sc=u.as,ho=u.at,ic=u.au,ac=u.av,cc=u.aw,zt=u.h,lc=u.ax,go=u.ay,uc=u.az},function(u){dc=u.g,fc=u.r},function(u){bo=u.g,yo=u.d,mc=u.s},function(){},function(){},function(){}],execute:function(){const u=function(){return document.readyState==="complete"?Promise.resolve():new Promise(e=>{window.addEventListener("load",e)})}();class pc extends HTMLElement{async connectedCallback(){await u,this.content&&await Np(this.lines,this.content,this.characterDelay,this.lineDelay),this.cursor&&(this.cursor.hidden=!0),this.dispatchEvent(new CustomEvent("typing:complete",{bubbles:!0,cancelable:!0}))}get content(){return this.querySelector('[data-target="typing-effect.content"]')}get cursor(){return this.querySelector('[data-target="typing-effect.cursor"]')}get lines(){const t=this.getAttribute("data-lines");try{return t?JSON.parse(t):[]}catch(n){return[]}}get prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion)").matches}get characterDelay(){return this.prefersReducedMotion?0:Math.max(0,Math.min(Math.floor(Number(this.getAttribute("data-character-delay"))),2147483647))||40}set characterDelay(t){if(t>2147483647||t<0)throw new DOMException("Value is negative or greater than the allowed amount");this.setAttribute("data-character-delay",String(t))}get lineDelay(){return this.prefersReducedMotion?0:Math.max(0,Math.min(Math.floor(Number(this.getAttribute("data-line-delay"))),2147483647))||40}set lineDelay(t){if(t>2147483647||t<0)throw new DOMException("Value is negative or greater than the allowed amount");this.setAttribute("data-line-delay",String(t))}}window.customElements.get("typing-effect")||(window.TypingEffectElement=pc,window.customElements.define("typing-effect",pc));async function Np(e,t,n,r){for(let o=0;o<e.length;o++){if(n===0)t.append(e[o]);else for(const s of e[o].split(""))await hc(n),t.innerHTML+=s;r!==0&&await hc(r),o<e.length-1&&t.append(document.createElement("br"))}}async function hc(e){return new Promise(t=>{setTimeout(t,e)})}const Bp=2e3;function gc(e){e.style.display="inline-block"}function bc(e){e.style.display="none"}function Up(e){const[t,n]=e.querySelectorAll(".octicon");!t||!n||(gc(t),bc(n))}function Wp(e){const[t,n]=e.querySelectorAll(".octicon");!t||!n||(bc(t),gc(n))}const On=new WeakMap;document.addEventListener("clipboard-copy",function({target:e}){if(!(e instanceof HTMLElement)||!e.hasAttribute("data-view-component"))return;const t=On.get(e);t?(clearTimeout(t),On.delete(e)):Wp(e),On.set(e,setTimeout(()=>{Up(e),On.delete(e)},Bp))});var zp=Object.defineProperty,Vp=(e,t)=>zp(e,"name",{value:t,configurable:!0}),yc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},T=(e,t,n)=>(yc(e,t,"read from private field"),n?n.call(e):t.get(e)),Je=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},we=(e,t,n,r)=>(yc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qe,X,qe,ae,Vt,vo,dt;class wo extends HTMLElement{constructor(){super(...arguments);Je(this,Qe,!1),Je(this,X,new Set),Je(this,qe,new Map),Je(this,ae,1/0),Je(this,Vt,new Map),Je(this,vo,new Map),Je(this,dt,0)}static get observedAttributes(){return["data-updating"]}get updating(){return this.getAttribute("data-updating")==="lazy"?"lazy":"eager"}set updating(t){this.setAttribute("data-updating",t)}get size(){return T(this,X).size}get range(){const t=this.getBoundingClientRect().height,{scrollTop:n}=this,r=`${n}-${t}`;if(T(this,Vt).has(r))return T(this,Vt).get(r);let o=0,s=0,i=0,a=0;const c=T(this,qe);for(const l of T(this,X)){const d=c.get(l)||T(this,ae);if(i+d<n)i+=d,o+=1,s+=1;else if(a-d<t)a+=d,s+=1;else if(a>=t)break}return[o,s]}attributeChangedCallback(t,n,r){if(n===r||!this.isConnected)return;const o=t==="data-updating"&&r==="eager",s=t==="data-sorted"&&this.hasAttribute("data-sorted");(o||s)&&this.update()}connectedCallback(){this.addEventListener("scroll",()=>this.update()),this.updateSync=this.updateSync.bind(this)}update(){T(this,dt)&&cancelAnimationFrame(T(this,dt)),!T(this,Qe)&&this.hasAttribute("data-sorted")?we(this,dt,requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("virtual-list-sort",{cancelable:!0}))&&this.sort()})):we(this,dt,requestAnimationFrame(this.updateSync))}renderItem(t){const n={item:t,fragment:document.createDocumentFragment()};return this.dispatchEvent(new CustomEvent("virtual-list-render-item",{detail:n})),n.fragment.children[0]}recalculateHeights(t){const n=this.querySelector("ul, ol, tbody");n&&(n.append(this.renderItem(t)),we(this,ae,n.children[0].getBoundingClientRect().height),T(this,qe).set(t,T(this,ae)),n.replaceChildren())}updateSync(){const t=this.querySelector("ul, ol");if(!t)return;const[n,r]=this.range;if(r<n||!this.dispatchEvent(new CustomEvent("virtual-list-update",{cancelable:!0})))return;const s=new Map,i=T(this,vo);let a=-1,c=!0,l=0;for(const w of T(this,X)){if(a===-1&&(!Number.isFinite(T(this,ae))||T(this,ae)===0)&&this.recalculateHeights(w),a+=1,a<n){l+=T(this,qe).get(w)||T(this,ae);continue}if(a>r){c=!1;break}let _=null;if(i.has(w))_=i.get(w);else{if(_=this.renderItem(w),!_)continue;i.set(w,_)}s.set(w,_)}t.replaceChildren(...s.values()),t.style.paddingTop=`${l}px`;const d=this.size*T(this,ae);t.style.height=`${d||0}px`;let m=!1;const h=this.getBoundingClientRect().bottom;for(const[w,_]of s){const{height:P,bottom:j}=_.getBoundingClientRect();m=m||j>=h,T(this,qe).set(w,P)}if(!c&&this.size>s.size&&!m)return T(this,Vt).delete(`${this.scrollTop}-${this.getBoundingClientRect().height}`),this.update();this.dispatchEvent(new CustomEvent("virtual-list-updated"))}has(t){return T(this,X).has(t)}add(t){return T(this,X).add(t),we(this,Qe,!1),Number.isFinite(T(this,ae))||this.recalculateHeights(t),this.updating==="eager"&&this.update(),this}delete(t){const n=T(this,X).delete(t);return we(this,Qe,!1),T(this,qe).delete(t),this.updating==="eager"&&this.update(),n}clear(){T(this,X).clear(),T(this,qe).clear(),we(this,ae,1/0),we(this,Qe,!0),this.updating==="eager"&&this.update()}forEach(t,n){for(const r of this)t.call(n,r,r,this)}entries(){return T(this,X).entries()}values(){return T(this,X).values()}keys(){return T(this,X).keys()}[Symbol.iterator](){return T(this,X)[Symbol.iterator]()}sort(t){return we(this,X,new Set(Array.from(this).sort(t))),we(this,Qe,!0),this.updating==="eager"&&this.update(),this}}Vp(wo,"VirtualListElement"),Qe=new WeakMap,X=new WeakMap,qe=new WeakMap,ae=new WeakMap,Vt=new WeakMap,vo=new WeakMap,dt=new WeakMap,window.customElements.get("virtual-list")||(window.VirtualListElement=wo,window.customElements.define("virtual-list",wo));var Kp=Object.defineProperty,jo=(e,t)=>Kp(e,"name",{value:t,configurable:!0}),vc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ft=(e,t,n)=>(vc(e,t,"read from private field"),n?n.call(e):t.get(e)),Fn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ye=(e,t,n,r)=>(vc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mt,Kt,Xt,Gt;function wc(e){return Boolean(e instanceof Set||e&&typeof e=="object"&&"size"in e&&"add"in e&&"delete"in e&&"clear"in e)}jo(wc,"isSetAlike");class Eo extends HTMLElement{constructor(){super(...arguments);Fn(this,mt,0),Fn(this,Kt,null),Fn(this,Xt,void 0),Fn(this,Gt,new Set),this.filtered=new Set,this.filter=jo((t,n)=>String(t).includes(n),"filter")}static get observedAttributes(){return["src","loading","data-property","aria-owns"]}get input(){return this.querySelector("input, textarea")}get src(){return this.getAttribute("src")||""}set src(t){this.setAttribute("src",t)}get loading(){return this.getAttribute("loading")==="lazy"?"lazy":"eager"}set loading(t){this.setAttribute("loading",t)}get accept(){return this.getAttribute("accept")||""}set accept(t){this.setAttribute("accept",t)}get property(){return this.getAttribute("data-property")||""}set property(t){this.setAttribute("data-property",t)}reset(){this.filtered.clear(),Ye(this,Gt,new Set)}clear(){!this.input||(this.input.value="",this.input.dispatchEvent(new Event("input")))}attributeChangedCallback(t,n,r){const o=this.isConnected&&this.src,s=this.loading==="eager",i=t==="src"||t==="loading"||t==="accept"||t==="data-property",a=t==="src"||t==="data-property",c=n!==r;if(a&&c&&Ye(this,Kt,null),o&&s&&i&&c)cancelAnimationFrame(ft(this,mt)),Ye(this,mt,requestAnimationFrame(()=>this.load()));else if(t==="aria-owns"){const l=this.ownerDocument.getElementById(r);if(!l)return;wc(l)&&(this.filtered=l)}}connectedCallback(){this.src&&this.loading==="eager"&&(cancelAnimationFrame(ft(this,mt)),Ye(this,mt,requestAnimationFrame(()=>this.load())));const t=this.input;if(!t)return;const n=this.getAttribute("aria-owns");n!==null&&this.attributeChangedCallback("aria-owns","",n),t.setAttribute("autocomplete","off"),t.setAttribute("spellcheck","false"),this.src&&this.loading==="lazy"&&(document.activeElement===t?this.load():t.addEventListener("focus",()=>{this.load()},{once:!0})),t.addEventListener("input",this)}disconnectedCallback(){var t;(t=this.input)==null||t.removeEventListener("input",this)}handleEvent(t){var n,r;t.type==="input"&&(ft(this,Xt)&&clearTimeout(ft(this,Xt)),Ye(this,Xt,window.setTimeout(()=>this.filterItems(),((r=(n=this.input)==null?void 0:n.value)==null?void 0:r.length)||0<3?300:100)))}async load(){if(!this.src)throw new Error("missing src");await new Promise(t=>setTimeout(t,0)),this.dispatchEvent(new Event("loadstart"));try{const t=await this.fetch(this.request());if(!t.url.includes(this.src))return;if(!t.ok)throw new Error(`Failed to load resource: the server responded with a status of ${t.status}`);Ye(this,Gt,new Set((await t.json())[this.property])),this.dispatchEvent(new Event("loadend"))}catch(t){throw(async()=>{this.dispatchEvent(new Event("error")),this.dispatchEvent(new Event("loadend"))})(),t}this.filtered.clear(),this.filterItems()}request(){return new Request(this.src,{method:"GET",credentials:"same-origin",headers:{Accept:this.accept||"application/json"}})}fetch(t){return fetch(t)}filterItems(){var t,n;const r=(n=(t=this.input)==null?void 0:t.value.trim())!=null?n:"",o=ft(this,Kt);if(Ye(this,Kt,r),r===o)return;this.dispatchEvent(new CustomEvent("virtual-filter-input-filter"));let s;o&&r.includes(o)?s=this.filtered:(s=ft(this,Gt),this.filtered.clear());for(const i of s)this.filter(i,r)?this.filtered.add(i):this.filtered.delete(i);this.dispatchEvent(new CustomEvent("virtual-filter-input-filtered"))}}jo(Eo,"VirtualFilterInputElement"),mt=new WeakMap,Kt=new WeakMap,Xt=new WeakMap,Gt=new WeakMap,window.customElements.get("virtual-filter-input")||(window.VirtualFilterInputElement=Eo,window.customElements.define("virtual-filter-input",Eo));var Xp=Object.defineProperty,jc=(e,t)=>Xp(e,"name",{value:t,configurable:!0}),Ec=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ze=(e,t,n)=>(Ec(e,t,"read from private field"),n?n.call(e):t.get(e)),Rn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Hn=(e,t,n,r)=>(Ec(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Dn,Nn,pt,Jt;function Sc(e,t){const n=[];let r=0;for(let o=0;o<e.length;o++){const s=e[o],i=t.indexOf(s,r);if(i===-1)return n;r=i+1,n.push(i)}return n}jc(Sc,"defaultPositions");class Bn extends HTMLElement{constructor(){super(...arguments);Rn(this,Dn,""),Rn(this,Nn,""),Rn(this,pt,void 0),Rn(this,Jt,void 0)}get query(){return this.ownerInput?this.ownerInput.value:this.getAttribute("query")||""}set query(t){this.setAttribute("query",t)}get ownerInput(){const t=this.ownerDocument.getElementById(this.getAttribute("data-owner-input")||"");return t instanceof HTMLInputElement?t:null}connectedCallback(){var t;this.handleEvent(),(t=this.ownerInput)==null||t.addEventListener("input",this),Hn(this,pt,new MutationObserver(()=>this.handleEvent()))}handleEvent(){Ze(this,Jt)&&cancelAnimationFrame(Ze(this,Jt)),Hn(this,Jt,requestAnimationFrame(()=>this.mark()))}disconnectedCallback(){var t;(t=this.ownerInput)==null||t.removeEventListener("input",this),Ze(this,pt).disconnect()}mark(){const t=this.textContent||"",n=this.query;if(t===Ze(this,Dn)&&n===Ze(this,Nn))return;Hn(this,Dn,t),Hn(this,Nn,n),Ze(this,pt).disconnect();let r=0;const o=document.createDocumentFragment();for(const s of(this.positions||Sc)(n,t)){if(Number(s)!==s||s<r||s>t.length)continue;t.slice(r,s)!==""&&o.appendChild(document.createTextNode(t.slice(r,s))),r=s+1;const a=document.createElement("mark");a.textContent=t[s],o.appendChild(a)}o.appendChild(document.createTextNode(t.slice(r))),this.replaceChildren(o),Ze(this,pt).observe(this,{attributes:!0,childList:!0,subtree:!0})}}jc(Bn,"MarkedTextElement"),Dn=new WeakMap,Nn=new WeakMap,pt=new WeakMap,Jt=new WeakMap,Bn.observedAttributes=["query","data-owner-input"],window.customElements.get("marked-text")||(window.MarkedTextElement=Bn,window.customElements.define("marked-text",Bn));var Lc=Object.defineProperty,Gp=Object.getOwnPropertyDescriptor,Jp=(e,t)=>Lc(e,"name",{value:t,configurable:!0}),Un=(e,t,n,r)=>{for(var o=r>1?void 0:r?Gp(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Lc(t,n,o),o};let ht=class extends HTMLElement{updateURL(e){const t=e.currentTarget,n=t.getAttribute("data-url")||"";if(this.helpField.value=n,t.matches(".js-git-protocol-clone-url"))for(const r of this.helpTexts)r.textContent=n;for(const r of this.cloneURLButtons)r.classList.remove("selected");t.classList.add("selected")}};Jp(ht,"GitCloneHelpElement"),Un([y],ht.prototype,"helpField",2),Un([oe],ht.prototype,"helpTexts",2),Un([oe],ht.prototype,"cloneURLButtons",2),ht=Un([I],ht);var _c=Object.defineProperty,Qp=Object.getOwnPropertyDescriptor,Yp=(e,t)=>_c(e,"name",{value:t,configurable:!0}),So=(e,t,n,r)=>{for(var o=r>1?void 0:r?Qp(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&_c(t,n,o),o};let Qt=class extends HTMLElement{constructor(){super();this.addEventListener("socket:message",this.update.bind(this))}update(e){const t=e.detail.data;this.link.setAttribute("aria-label",t.aria_label),this.link.setAttribute("data-ga-click",t.ga_click),this.modifier.setAttribute("class",t.span_class)}};Yp(Qt,"NotificationIndicatorElement"),So([y],Qt.prototype,"link",2),So([y],Qt.prototype,"modifier",2),Qt=So([I],Qt);var kc=Object.defineProperty,Zp=Object.getOwnPropertyDescriptor,eh=(e,t)=>kc(e,"name",{value:t,configurable:!0}),Lo=(e,t,n,r)=>{for(var o=r>1?void 0:r?Zp(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&kc(t,n,o),o};let Yt=class extends HTMLElement{connectedCallback(){this.addEventListener("socket:message",e=>{const t=e.detail.data;this.link.setAttribute("aria-label",t.aria_label),this.link.setAttribute("data-ga-click",t.ga_click),this.modifier.setAttribute("class",t.span_class)})}toggleSidebar(){const e=new CustomEvent("notification-focus:toggle-sidebar",{bubbles:!0});this.dispatchEvent(e)}};eh(Yt,"NotificationFocusIndicatorElement"),Lo([y],Yt.prototype,"link",2),Lo([y],Yt.prototype,"modifier",2),Yt=Lo([I],Yt);var Tc=Object.defineProperty,th=Object.getOwnPropertyDescriptor,nh=(e,t)=>Tc(e,"name",{value:t,configurable:!0}),_o=(e,t,n,r)=>{for(var o=r>1?void 0:r?th(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Tc(t,n,o),o};let Zt=class extends HTMLElement{changeFilter(e){e.preventDefault(),this.detailsContainer.removeAttribute("open");const t=e.currentTarget;this.setFilterTitle(t.innerHTML),this.dispatchEvent(new CustomEvent("focus-mode-filter-change",{detail:{url:t.href}}))}setFilterTitle(e){this.filterTitle.innerHTML=e}};nh(Zt,"NotificationFocusFiltersElement"),_o([y],Zt.prototype,"detailsContainer",2),_o([y],Zt.prototype,"filterTitle",2),Zt=_o([I],Zt);var Cc=Object.defineProperty,rh=Object.getOwnPropertyDescriptor,oh=(e,t)=>Cc(e,"name",{value:t,configurable:!0}),Ie=(e,t,n,r)=>{for(var o=r>1?void 0:r?rh(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Cc(t,n,o),o};let he=class extends HTMLElement{connectedCallback(){p(".js-notification-focus-list",()=>{this.setupPaginationObserver()}),f("pjax:end","#js-repo-pjax-container",()=>{this.toggleCurrentFocusedNotification()})}disconnectedCallback(){this.disconnectCurrentObserver()}deactivateNavigation(){xa(this.container)}activateNavigation(){Aa(this.container)}replaceContent(e){this.container.innerHTML="",this.container.appendChild(e),this.setupPaginationObserver()}onRemoveItem(e){var t,n,r;const o=e.detail.notificationId,s=dc(this.container,".js-navigation-item.navigation-focus");(r=(n=(t=this.listElements)==null?void 0:t.find(i=>i.notificationId===o))==null?void 0:n.closest("li"))==null||r.remove(),this.listElements.length===0?(this.blankSlate.hidden=!1,this.list.hidden=!0):fc(s,this.container)}toggleCurrentFocusedNotification(){for(const e of this.listElements){const t=window.location.href.includes(e.url());e.setFocusedState(t)}}setupPaginationObserver(){!!window.IntersectionObserver&&this.nextPageItem&&(this.currentObserver=new IntersectionObserver(e=>{!e[0].isIntersecting||(this.disconnectCurrentObserver(),this.loadNextPage())},{root:this.container,threshold:0}),this.currentObserver.observe(this.nextPageItem))}async loadNextPage(){if(!this.nextPageItem)return;const e=this.nextPageItem.getAttribute("data-next-page-url");if(e){this.nextPageItemSpinner.hidden=!1;const t=await N(document,e);this.nextPageItem.remove();const n=t.querySelectorAll("ul > li.focus-notification-item");for(const o of n)this.list.appendChild(o);const r=t.querySelector("ul > li.focus-pagination-next-item");r&&this.list.appendChild(r),this.setupPaginationObserver()}}disconnectCurrentObserver(){this.currentObserver&&this.currentObserver.disconnect()}};oh(he,"NotificationFocusListElement"),Ie([y],he.prototype,"container",2),Ie([y],he.prototype,"includeFragment",2),Ie([y],he.prototype,"list",2),Ie([y],he.prototype,"blankSlate",2),Ie([oe],he.prototype,"listElements",2),Ie([y],he.prototype,"nextPageItem",2),Ie([y],he.prototype,"nextPageItemSpinner",2),he=Ie([I],he);var xc=Object.defineProperty,sh=Object.getOwnPropertyDescriptor,ih=(e,t)=>xc(e,"name",{value:t,configurable:!0}),et=(e,t,n,r)=>{for(var o=r>1?void 0:r?sh(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&xc(t,n,o),o};let je=class extends HTMLElement{constructor(){super(...arguments);this.notificationId="",this.isUnread=!1}connectedCallback(){var e,t;(e=this.closest(".js-navigation-item"))==null||e.addEventListener("navigation:keydown",this.handleCustomKeybindings.bind(this)),(t=this.closest(".js-navigation-item"))==null||t.addEventListener("navigation:keyopen",this.handleKeyOpen.bind(this))}url(){var e;return(e=this.notificationLink)==null?void 0:e.href}handleCustomKeybindings(e){const t=e.detail;!Cn(t.originalEvent)||(t.hotkey==="e"?this.doneForm.dispatchEvent(new Event("submit")):t.hotkey==="M"&&this.unsubscribeForm.dispatchEvent(new Event("submit")))}handleKeyOpen(){this.notificationLink.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}setFocusedState(e){var t,n,r;e&&this.isUnread&&(this.isUnread=!1,(t=this.closest(".js-navigation-item"))==null||t.classList.remove("color-bg-default"),(n=this.closest(".js-navigation-item"))==null||n.classList.add("color-bg-subtle")),(r=this.closest(".js-navigation-item"))==null||r.classList.toggle("current-focused-item",e),this.notificationTitle.classList.toggle("text-bold",e||this.isUnread)}async runRemoveAction(e){e.preventDefault();const t=e.currentTarget,n=new FormData(t),r=t.method,o=t.action,{ok:s}=await fetch(o,{body:n,method:r});s&&this.dispatchEvent(new CustomEvent("focus-mode-remove-item",{bubbles:!0,detail:{notificationId:this.notificationId}}))}};ih(je,"NotificationFocusListItemElement"),et([se],je.prototype,"notificationId",2),et([se],je.prototype,"isUnread",2),et([y],je.prototype,"doneForm",2),et([y],je.prototype,"unsubscribeForm",2),et([y],je.prototype,"notificationLink",2),et([y],je.prototype,"notificationTitle",2),je=et([I],je);var Ac=Object.defineProperty,ah=Object.getOwnPropertyDescriptor,ch=(e,t)=>Ac(e,"name",{value:t,configurable:!0}),Wn=(e,t,n,r)=>{for(var o=r>1?void 0:r?ah(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Ac(t,n,o),o};let gt=class extends HTMLElement{connectedCallback(){this.addEventListener("notification-focus:toggle-sidebar",this.toggleSidebar.bind(this),!0),window.localStorage.getItem("focus-sidebar-active")==="true"&&this.toggleSidebar()}toggleSidebar(){this.adjustSidebarPosition(),this.sidebar.classList.contains("active")?(this.listElement.deactivateNavigation(),this.sidebar.classList.remove("active"),window.localStorage.removeItem("focus-sidebar-active")):(this.listElement.activateNavigation(),this.sidebar.classList.add("active"),window.localStorage.setItem("focus-sidebar-active","true"))}async onFocusFilterChange(e){const t=e.detail;if(t.url){this.listElement.deactivateNavigation();const n=await N(document,t.url);this.listElement.replaceContent(n),this.listElement.activateNavigation()}}adjustSidebarPosition(){const e=document.querySelector("header[role=banner]");if(e){const t=e.offsetTop+e.offsetHeight;this.sidebar.style.top=`${t-10}px`}}};ch(gt,"NotificationFocusSidebarElement"),Wn([y],gt.prototype,"sidebar",2),Wn([y],gt.prototype,"listElement",2),Wn([y],gt.prototype,"filtersElement",2),gt=Wn([I],gt);var Pc=Object.defineProperty,lh=Object.getOwnPropertyDescriptor,uh=(e,t)=>Pc(e,"name",{value:t,configurable:!0}),ne=(e,t,n,r)=>{for(var o=r>1?void 0:r?lh(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Pc(t,n,o),o};let G=class extends HTMLElement{async submitCustomForm(e){await this.submitForm(e),this.closeMenu()}async submitForm(e){e.preventDefault(),Pa();const t=e.currentTarget,n=new FormData(t),r=await self.fetch(t.action,{method:t.method,body:n,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!r.ok){Me();return}const o=await r.json(),s=n.get("do");typeof s=="string"&&this.updateCheckedState(s),typeof s=="string"&&this.updateMenuButtonCopy(s),this.updateSocialCount(o.count),this.applyInputsCheckedPropertiesToAttributesForNextFormReset()}updateMenuButtonCopy(e){this.unwatchButtonCopy.hidden=!(e==="subscribed"||e==="custom"),this.stopIgnoringButtonCopy.hidden=e!=="ignore",this.watchButtonCopy.hidden=!(e!=="subscribed"&&e!=="custom"&&e!=="ignore")}applyInputsCheckedPropertiesToAttributesForNextFormReset(){for(const e of[...this.threadTypeCheckboxes])e.toggleAttribute("checked",e.checked)}updateCheckedState(e){for(const t of this.subscriptionButtons)t.setAttribute("aria-checked",t.value===e?"true":"false");if(e==="custom")this.customButton.setAttribute("aria-checked","true");else{this.customButton.setAttribute("aria-checked","false");for(const t of[...this.threadTypeCheckboxes])$e(t,!1)}}updateSocialCount(e){this.socialCount&&(this.socialCount.textContent=e,this.socialCount.setAttribute("aria-label",`${this.pluralizeUsers(e)} watching this repository`))}pluralizeUsers(e){return parseInt(e)===1?"1 user is":`${e} users are`}openCustomDialog(e){e.preventDefault(),e.stopPropagation(),this.menu.toggleAttribute("hidden",!0),this.customDialog.toggleAttribute("hidden",!1),setTimeout(()=>{var t;(t=this.customDialog.querySelector("input[type=checkbox][autofocus]"))==null||t.focus()},0)}closeCustomDialog(e){e.preventDefault(),e.stopPropagation(),this.menu.toggleAttribute("hidden",!1),this.customDialog.toggleAttribute("hidden",!0),setTimeout(()=>{this.customButton.focus()},0)}detailsToggled(){this.menu.toggleAttribute("hidden",!1),this.customDialog.toggleAttribute("hidden",!0)}submitCustom(e){e.preventDefault(),this.details.toggleAttribute("open",!1)}threadTypeCheckboxesUpdated(){const e=!this.threadTypeCheckboxes.some(t=>t.checked);this.customSubmit.disabled=e}closeMenu(){this.details.toggleAttribute("open",!1)}};uh(G,"NotificationsListSubscriptionFormElement"),ne([y],G.prototype,"details",2),ne([y],G.prototype,"menu",2),ne([y],G.prototype,"customButton",2),ne([y],G.prototype,"customDialog",2),ne([oe],G.prototype,"subscriptionButtons",2),ne([y],G.prototype,"socialCount",2),ne([y],G.prototype,"unwatchButtonCopy",2),ne([y],G.prototype,"stopIgnoringButtonCopy",2),ne([y],G.prototype,"watchButtonCopy",2),ne([oe],G.prototype,"threadTypeCheckboxes",2),ne([y],G.prototype,"customSubmit",2),G=ne([I],G);var Mc=Object.defineProperty,dh=Object.getOwnPropertyDescriptor,fh=(e,t)=>Mc(e,"name",{value:t,configurable:!0}),$c=(e,t,n,r)=>{for(var o=r>1?void 0:r?dh(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Mc(t,n,o),o};let zn=class extends HTMLElement{closeMenu(){this.details.toggleAttribute("open",!1)}};fh(zn,"NotificationsTeamSubscriptionFormElement"),$c([y],zn.prototype,"details",2),zn=$c([I],zn);var mh=Object.defineProperty,Vn=(e,t)=>mh(e,"name",{value:t,configurable:!0});class Kn extends HTMLElement{connectedCallback(){this.addEventListener("input",ko)}disconnectedCallback(){this.removeEventListener("input",ko)}}Vn(Kn,"PasswordStrengthElement"),window.customElements.get("password-strength")||(window.PasswordStrengthElement=Kn,window.customElements.define("password-strength",Kn));function ko(e){const t=e.currentTarget;if(!(t instanceof Kn))return;const n=e.target;if(!(n instanceof HTMLInputElement))return;const r=n.form;if(!(r instanceof HTMLFormElement))return;const o=qc(n.value,{minimumCharacterCount:Number(t.getAttribute("minimum-character-count")),passphraseLength:Number(t.getAttribute("passphrase-length"))});if(o.valid){n.setCustomValidity("");const s=t.querySelector("dl.form-group");s&&(s.classList.remove("errored"),s.classList.add("successed"))}else n.setCustomValidity(t.getAttribute("invalid-message")||"Invalid");Ic(t,o),It(r)}Vn(ko,"onInput");function qc(e,t){const n={valid:!1,hasMinimumCharacterCount:e.length>=t.minimumCharacterCount,hasMinimumPassphraseLength:t.passphraseLength!==0&&e.length>=t.passphraseLength,hasLowerCase:/[a-z]/.test(e),hasNumber:/\d/.test(e)};return n.valid=n.hasMinimumPassphraseLength||n.hasMinimumCharacterCount&&n.hasLowerCase&&n.hasNumber,n}Vn(qc,"validatePassword");function Ic(e,t){var n,r;const o=e.querySelector("[data-more-than-n-chars]"),s=e.querySelector("[data-min-chars]"),i=e.querySelector("[data-number-requirement]"),a=e.querySelector("[data-letter-requirement]"),c=((n=e.getAttribute("error-class"))==null?void 0:n.split(" ").filter(d=>d.length>0))||[],l=((r=e.getAttribute("pass-class"))==null?void 0:r.split(" ").filter(d=>d.length>0))||[];for(const d of[o,s,i,a])d==null||d.classList.remove(...c,...l);if(t.hasMinimumPassphraseLength&&o)o.classList.add(...l);else if(t.valid)s.classList.add(...l),i.classList.add(...l),a.classList.add(...l);else{const d=t.hasMinimumCharacterCount?l:c,m=t.hasNumber?l:c,h=t.hasLowerCase?l:c;o==null||o.classList.add(...c),s.classList.add(...d),i.classList.add(...m),a.classList.add(...h)}}Vn(Ic,"highlightPasswordStrengthExplainer");var ph=Object.defineProperty,hh=(e,t)=>ph(e,"name",{value:t,configurable:!0});class To extends Gr{async fetch(t,n=1e3){const r=await super.fetch(t);return r.status===202?(await new Promise(o=>setTimeout(o,n)),this.fetch(t,n*1.5)):r}}hh(To,"PollIncludeFragmentElement"),window.customElements.get("poll-include-fragment")||(window.PollIncludeFragmentElement=To,window.customElements.define("poll-include-fragment",To));var gh=Object.defineProperty,Oc=(e,t)=>gh(e,"name",{value:t,configurable:!0});class Co extends Qi{connectedCallback(){en.push(this),Xn||(xo(),Xn=window.setInterval(xo,1e3))}disconnectedCallback(){const t=en.indexOf(this);t!==-1&&en.splice(t,1),en.length||(window.clearInterval(Xn),Xn=void 0)}getFormattedDate(){const t=this.date;if(!t)return;const n=new Date().getTime()-t.getTime(),r=Math.floor(n/1e3),o=Math.floor(r/60),s=Math.floor(o/60),i=Math.floor(s/24),a=r-o*60,c=o-s*60,l=s-i*24;return o<1?this.applyPrecision([`${r}s`]):s<1?this.applyPrecision([`${o}m`,`${a}s`]):i<1?this.applyPrecision([`${s}h`,`${c}m`,`${a}s`]):this.applyPrecision([`${i}d`,`${l}h`,`${c}m`,`${a}s`])}applyPrecision(t){const n=Number(this.getAttribute("data-precision")||t.length);return t.slice(0,n).join(" ")}}Oc(Co,"PreciseTimeAgoElement");const en=[];let Xn;function xo(){for(const e of en)e.textContent=e.getFormattedDate()||""}Oc(xo,"updateNowElements"),window.customElements.get("precise-time-ago")||(window.PreciseTimeAgoElement=Co,window.customElements.define("precise-time-ago",Co));var bh=Object.defineProperty,Fc=(e,t)=>bh(e,"name",{value:t,configurable:!0});const yh=/\s|\(|\[/;function Rc(e,t,n){const r=e.lastIndexOf(t,n-1);if(r===-1||e.lastIndexOf(" ",n-1)>r)return;const s=e[r-1];return s&&!yh.test(s)?void 0:{word:e.substring(r+t.length,n),position:r+t.length,beginningOfLine:vh(s)}}Fc(Rc,"keyword");const vh=Fc(e=>e===void 0||/\n/.test(e),"isBeginningOfLine");var wh=Object.defineProperty,jh=(e,t)=>wh(e,"name",{value:t,configurable:!0});const Eh=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],Hc=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],Dc=new WeakMap;function Nc(e,t){const n=e.nodeName.toLowerCase();if(n!=="textarea"&&n!=="input")throw new Error("expected textField to a textarea or input");let r=Dc.get(e);if(r&&r.parentElement===e.parentElement)r.innerHTML="";else{r=document.createElement("div"),Dc.set(e,r);const a=window.getComputedStyle(e),c=Eh.slice(0);n==="textarea"?c.push("white-space:pre-wrap;"):c.push("white-space:nowrap;");for(let l=0,d=Hc.length;l<d;l++){const m=Hc[l];c.push(`${m}:${a.getPropertyValue(m)};`)}r.style.cssText=c.join(" ")}const o=document.createElement("span");o.style.cssText="position: absolute;",o.innerHTML="&nbsp;";let s,i;if(typeof t=="number"){let a=e.value.substring(0,t);a&&(s=document.createTextNode(a)),a=e.value.substring(t),a&&(i=document.createTextNode(a))}else{const a=e.value;a&&(s=document.createTextNode(a))}if(s&&r.appendChild(s),r.appendChild(o),i&&r.appendChild(i),!r.parentElement){if(!e.parentElement)throw new Error("textField must have a parentElement to mirror");e.parentElement.insertBefore(r,e)}return r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft,{mirror:r,marker:o}}jh(Nc,"textFieldMirror");var Sh=Object.defineProperty,Lh=(e,t)=>Sh(e,"name",{value:t,configurable:!0});function Bc(e,t=e.selectionEnd){const{mirror:n,marker:r}=Nc(e,t),o=n.getBoundingClientRect(),s=r.getBoundingClientRect();return setTimeout(()=>{n.remove()},5e3),{top:s.top-o.top,left:s.left-o.left}}Lh(Bc,"textFieldSelectionPosition");var _h=Object.defineProperty,Ao=(e,t)=>_h(e,"name",{value:t,configurable:!0});const bt=new WeakMap;class Uc{constructor(t,n){this.expander=t,this.input=n,this.combobox=null,this.menu=null,this.match=null,this.justPasted=!1,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithMenu=!1,n.addEventListener("paste",this.onpaste),n.addEventListener("input",this.oninput),n.addEventListener("keydown",this.onkeydown),n.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}activate(t,n){this.input===document.activeElement&&this.setMenu(t,n)}deactivate(){const t=this.menu,n=this.combobox;return!t||!n?!1:(this.menu=null,this.combobox=null,t.removeEventListener("combobox-commit",this.oncommit),t.removeEventListener("mousedown",this.onmousedown),n.destroy(),t.remove(),!0)}setMenu(t,n){this.deactivate(),this.menu=n,n.id||(n.id=`text-expander-${Math.floor(Math.random()*1e5).toString()}`),this.expander.append(n);const r=n.querySelector(".js-slash-command-menu-items");r?this.combobox=new Jr(this.input,r):this.combobox=new Jr(this.input,n);const{top:o,left:s}=Bc(this.input,t.position),i=parseInt(window.getComputedStyle(this.input).fontSize);n.style.top=`${o+i}px`,n.style.left=`${s}px`,this.combobox.start(),n.addEventListener("combobox-commit",this.oncommit),n.addEventListener("mousedown",this.onmousedown),this.combobox.navigate(1)}setValue(t){if(t==null)return;const n=this.match;if(!n)return;const r=this.input.value.substring(0,n.position-n.key.length),o=this.input.value.substring(n.position+n.text.length);let{cursor:s,value:i}=this.replaceCursorMark(t);i=(i==null?void 0:i.length)===0?i:`${i} `,this.input.value=r+i+o,this.deactivate(),this.input.focus(),s=r.length+(s||i.length),this.input.selectionStart=s,this.input.selectionEnd=s}replaceCursorMark(t){const n=/%cursor%/gm,r=n.exec(t);return r?{cursor:r.index,value:t.replace(n,"")}:{cursor:null,value:t}}onCommit({target:t}){const n=t;if(!(n instanceof HTMLElement)||!this.combobox)return;const r=this.match;if(!r)return;const o={item:n,key:r.key,value:null};!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:o}))||o.value&&this.setValue(o.value)}onBlur(){if(this.interactingWithMenu){this.interactingWithMenu=!1;return}this.deactivate()}onPaste(){this.justPasted=!0}async delay(t){return new Promise(n=>setTimeout(n,t))}async onInput(){if(this.justPasted){this.justPasted=!1;return}const t=this.findMatch();if(t){if(this.match=t,await this.delay(this.appropriateDelay(this.match)),this.match!==t)return;const n=await this.notifyProviders(t);if(!this.match)return;n?this.activate(t,n):this.deactivate()}else this.match=null,this.deactivate()}appropriateDelay(t){return t.beginningOfLine||t.text!==""?0:250}findMatch(){const t=this.input.selectionEnd,n=this.input.value;for(const r of this.expander.keys){const o=Rc(n,r,t);if(o)return{text:o.word,key:r,position:o.position,beginningOfLine:o.beginningOfLine}}}async notifyProviders(t){const n=[],r=Ao(a=>n.push(a),"provide");return this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:r,text:t.text,key:t.key}}))?(await Promise.all(n)).filter(a=>a.matched).map(a=>a.fragment)[0]:void 0}onMousedown(){this.interactingWithMenu=!0}onKeydown(t){t.key==="Escape"&&this.deactivate()&&(t.stopImmediatePropagation(),t.preventDefault())}}Ao(Uc,"SlashCommandExpander");class Po extends HTMLElement{get keys(){const t=this.getAttribute("keys");return t?t.split(" "):[]}connectedCallback(){const t=this.querySelector('input[type="text"], textarea');if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const n=new Uc(this,t);bt.set(this,n)}disconnectedCallback(){const t=bt.get(this);!t||(t.destroy(),bt.delete(this))}setValue(t){const n=bt.get(this);!n||n.setValue(t)}setMenu(t,n=!1){const r=bt.get(this);!r||!r.match||(n&&(r.interactingWithMenu=!0),r.setMenu(r.match,t))}closeMenu(){const t=bt.get(this);!t||t.setValue("")}isLoading(){const t=this.getElementsByClassName("js-slash-command-expander-loading")[0];if(t){const n=t.cloneNode(!0);n.classList.remove("d-none"),this.setMenu(n)}}showError(){const t=this.getElementsByClassName("js-slash-command-expander-error")[0];if(t){const n=t.cloneNode(!0);n.classList.remove("d-none"),this.setMenu(n)}}}Ao(Po,"SlashCommandExpanderElement"),window.customElements.get("slash-command-expander")||(window.SlashCommandExpanderElement=Po,window.customElements.define("slash-command-expander",Po)),f("deprecatedAjaxSend","[data-remote]",function(e){e.currentTarget===e.target&&(e.defaultPrevented||e.currentTarget.classList.add("loading"))}),f("deprecatedAjaxComplete","[data-remote]",function(e){e.currentTarget===e.target&&e.currentTarget.classList.remove("loading")}),A("form.js-ajax-pagination, .js-ajax-pagination form",async function(e,t){const n=e.closest(".js-ajax-pagination");let r;try{r=await t.html()}catch(o){if(o.response&&o.response.status===404){n.remove();return}else throw o}n.replaceWith(r.html),v(e,"page:loaded")});const kh="analytics.click";f("click","[data-analytics-event]",e=>{const n=e.currentTarget.getAttribute("data-analytics-event");if(!n)return;const r=JSON.parse(n);Ot(kh,r)}),document.addEventListener("pjax:start",function(){We("Loading page")}),document.addEventListener("pjax:error",function(){We("Loading failed")}),document.addEventListener("pjax:end",function(){We("Loading complete")});var Th=Object.defineProperty,Wc=(e,t)=>Th(e,"name",{value:t,configurable:!0});const zc=new WeakMap;p("auto-check",function(e){if(e.classList.contains("js-prevent-default-behavior"))return;const t=e.querySelector("input");if(!t)return;const n=t.closest(".form-group")||e,r=t.form;let o;function s(){return o||(o=`input-check-${(Math.random()*1e4).toFixed(0)}`),o}Wc(s,"generateId");const i=t.getAttribute("aria-describedby");t.addEventListener("focusout:delay",()=>{t.setAttribute("aria-describedby",[o,i].join(" "))});const a=n.querySelector("p.note");a&&(a.id||(a.id=s()),zc.set(a,a.innerHTML)),e.addEventListener("loadstart",()=>{Gn(t,n),n.classList.add("is-loading"),t.classList.add("is-autocheck-loading"),It(r)}),e.addEventListener("loadend",()=>{n.classList.remove("is-loading"),t.classList.remove("is-autocheck-loading")}),t.addEventListener("auto-check-success",async c=>{t.classList.add("is-autocheck-successful"),n.classList.add("successed"),It(r);const{response:l}=c.detail;if(!l)return;const d=await l.text();if(!!d){if(a instanceof HTMLElement)a.innerHTML=d,ze(a);else{const m=l.status===200,h=n.tagName==="DL"?"dd":"div",g=document.createElement(h);g.id=s(),g.classList.add(m?"success":"warning"),g.innerHTML=d,n.append(g),n.classList.add(m?"successed":"warn"),ze(g),m&&(g.hidden=document.activeElement!==t)}v(t,"auto-check-message-updated")}}),t.addEventListener("auto-check-error",async c=>{t.classList.add("is-autocheck-errored"),n.classList.add("errored"),It(r);const{response:l}=c.detail;if(!l)return;const d=await l.text();if(a instanceof HTMLElement)a.innerHTML=d||"Something went wrong",ze(a);else{const m=n.tagName==="DL"?"dd":"div",h=document.createElement(m);h.id=s(),h.classList.add("error"),h.innerHTML=d||"Something went wrong",n.append(h),ze(h)}}),t.addEventListener("input",()=>{t.removeAttribute("aria-describedby"),t.value||Gn(t,n)}),t.addEventListener("blur",()=>{const c=n.querySelector(".success");c&&(c.hidden=!0)}),t.addEventListener("focus",()=>{const c=n.querySelector(".success");c&&(c.hidden=!1)}),r.addEventListener("reset",()=>{Gn(t,n)})});function Gn(e,t){var n,r,o,s,i,a;t.classList.remove("is-loading","successed","errored","warn"),e.classList.remove("is-autocheck-loading","is-autocheck-successful","is-autocheck-errored");const c=t.querySelector("p.note");if(c){const l=zc.get(c);l&&(c.innerHTML=l)}t.tagName==="DL"?((n=t.querySelector("dd.error"))==null||n.remove(),(r=t.querySelector("dd.warning"))==null||r.remove(),(o=t.querySelector("dd.success"))==null||o.remove()):((s=t.querySelector("div.error"))==null||s.remove(),(i=t.querySelector("div.warning"))==null||i.remove(),(a=t.querySelector("div.success"))==null||a.remove())}Wc(Gn,"reset");var Ch=Object.defineProperty,xh=(e,t)=>Ch(e,"name",{value:t,configurable:!0});p("auto-complete",function(e){e.addEventListener("loadstart",()=>e.classList.add("is-auto-complete-loading")),e.addEventListener("loadend",()=>e.classList.remove("is-auto-complete-loading"))}),p("auto-complete",{constructor:Yi,initialize:Mo}),f("auto-complete-change","auto-complete",function(e){Mo(e.currentTarget)});function Mo(e){const t=e.closest("form");if(!t)return;const n=t.querySelector(".js-auto-complete-button");n instanceof HTMLButtonElement&&(n.disabled=!e.value)}xh(Mo,"toggleSubmitButton");let $o=null;f("submit","[data-autosearch-results-container]",async function(e){const t=e.currentTarget;if(!(t instanceof HTMLFormElement))return;e.preventDefault(),$o==null||$o.abort(),t.classList.add("is-sending");const n=new URL(t.action,window.location.origin),r=t.method,o=no(t);let s=null;r==="get"?n.search=o:s=new FormData(t);const{signal:i}=$o=new AbortController,a=new Request(n.toString(),{method:r,body:s,signal:i,headers:{Accept: